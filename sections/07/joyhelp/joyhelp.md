# 유틸리티 컨테이너(Utility Container)란? 

일반적으로 애플리케이션 컨테이너와 함께 컨테이너 안에서 보조적인 역할을 수행하는 컨테이너를 의미. 

보통 직접 서비스 요청을 처리하진 않지만, **주 컨테이너(main container)**가 제대로 동작할 수 있도록 지원 기능을 제공


## 대표적인 유틸리티 컨테이너 예시

### 1. Init Container

    - 메인 컨테이너가 시작되기 전에 한 번 실행되는 컨테이너.

    - 설정 파일 복사, 외부 서비스 체크, 권한 설정 등 준비 작업 수행.

    - 예: 애플리케이션 실행 전에 DB가 준비되었는지 확인하는 컨테이너.

### 2. Sidecar Container

    - 메인 컨테이너와 함께 계속 실행되며, 기능을 보완하거나 확장함.

    - 예:

        - 로그 수집용 Fluentd 컨테이너

        - 애플리케이션 로그를 중앙 서버로 전송

        - nginx 등을 이용한 reverse proxy

        - 인증, 암호화, 트래픽 관리 등 보조 기능 수행

### 3. Ambassador Container

    - 외부 서비스와의 통신을 중계해주는 역할.

    - 메인 컨테이너 대신 외부에 연결해서 요청을 전달하고 결과를 넘김.

### 4. Adapter Container

    - 포맷 변경이나 중계 역할.

    - 예: 애플리케이션에서 내보낸 지표를 Prometheus 포맷으로 변환.


## 요약
Docker Compose 환경에서 유틸리티 컨테이너는 다음과 같은 역할로 사용:

    - DB 초기화 / 마이그레이션
    - 로그 수집 / 모니터링
    - 리버스 프록시
    - 백업 및 유지보수 작업
    - 인증 프록시, APM 등 부가기능