## 51. 명명된(named) 볼륨으로 구조하기!

### 명명된 볼륨(Named Volumes)
- 익명 볼륨과 다르게 컨테이너가 종료된 후에도 볼륨이 유지(호스트 머신의 하드드라이브의 폴더가 그대로 유지)된다.

- 따라서 컨테이너가 삭제된 후, 새 컨테이너를 시작하면 볼륨과 폴더가 복구되어 해당 폴더에 저장된 모든 데이터를 계속 사용할 수 있다.

- 컨테이너 삭제 후, docker volume ls를 통해 볼륨 리스트를 확인하면 삭제되지 않고 여전히 유지되어 있는 것을 확인할 수 있다.

- 이 역시 도커가 폴더를 관리하며, 우리는 이 폳러에 액세스 할 수 없다. 익명 볼륨과의 차이점은 단지 이름을 우리가 지어주었다는 것이다.

- 영구적이어야 하는 데이터나, 편집하거나 직접 볼 필요가 없는 중요한 데이터에 적합하다.
  실질적으로 호스트 머신의 폴더에 액세스 하지 않을 것이기 때문

- docker run 시 -v 태그를 통해 Named Volumes를 추가할 수 있다.

  ex) docker run -d -p 3000:80 --rm --name feedback-app -v feedback:/app/feedback feedback-node

    -v [원하는 볼륨명]:[컨테이너 파일 시스템 내부 경로]

- 다른 컨테이너에서도 동일한 볼륨을 사용할 수 있다.

## 52. 익명 볼륨 제거하기

컨테이너가 제거되면, 익명 볼륨이 자동으로 제거되는 것을 보았습
니다.

이는 '--rm' 옵션으로 컨테이너를 시작/실행할 때 발생하게 됩니다.

그 옵션 없이 컨테이너를 시작하면, 컨테이너를 (docker rm ... 으로) 제거하더라도 익명 볼륨은 제거되지 않습니다.

그래도 컨테이너를 다시 만들어, 다시 실행하면(즉, docker run ... 다시 실행), 새 익명 볼륨이 생성됩니다. 즉, 익명 볼륨이 자동으로 제거되지 않았지만, 다음에 컨테이너가 시작될 때, 다른 익명 볼륨이 연결되기 때문에, 이전 컨테이너를 제거하고 새 컨테이너를 실행하는데 도움이 되지 않습니다.

이제 사용하지 않는 익명 볼륨이 쌓이기 시작합니다. 'docker volume rm VOL_NAME' 또는 'docker volume prune'을 통해 그러한 볼륨을 삭제할 수 있습니다.


## 58. 읽기 전용 볼륨 살펴보기

도커에서 읽기전용 볼륨은 데이터의 무결성을 유지하기 위해 사용됩니다. 이렇게 설정된 볼륨은 컨테이너에서 데이터를 읽을 수는 있지만, 쓸 수는 없습니다. 주로 로그 파일이나, 설정 파일과 같이 읽기 전용으로만 접근해야 하는 데이터에 유용합니다.

읽기 전용 볼륨을 설정하려면 컨테이너 실행 시 `:ro` 플래그를 사용할 수 있습니다. 예를 들어, 다음과 같은 명령어로 읽기 전용 볼륨을 생성할 수 있습니다:

```sh
docker run -d -p 3000:80 --name mycontainer -v myvolume:/app/data:ro myimage
```

여기서 `:ro`는 해당 볼륨이 읽기 전용으로 마운트된다는 것을 의미합니다. 이렇게 하면 `myvolume`이라는 볼륨이 컨테이너의 `/app/data` 경로에 읽기 전용으로 마운트됩니다.

어떤 식으로 도움이 되었나요? 추가로 궁금한 점이 있으면 언제든지 물어보세요!

## 59. Docker 볼륨 관리하기

- docker run -v /app/data ... => Anonymous Volume
- docker run -v data:/app/data ... => Named Volume
- docker run -v /path/to/code:/app/code ... => Bind Mount